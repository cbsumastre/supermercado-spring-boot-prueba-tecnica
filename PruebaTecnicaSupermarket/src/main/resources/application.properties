spring.application.name=supermarket
server.port=9091

# Activar el perfil 'dev' por defecto si no se especifica otro
spring.profiles.active=dev

# ==========================================================
# CONFIGURACIÓN DE SPRING BOOT DEVTOOLS
# ==========================================================

## Activa y desactiva la recarga de los cambios en vivo
spring.devtools.livereload.enabled=true

## Activa y desactiva el reinicio cuando hay cambios
spring.devtools.restart.enabled=false 

# ==========================================================
# CONFIGURACIÓN DE SPRING DATA JPA
# ==========================================================
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

spring.jpa.properties.hibernate.dialect=${DB_PLATFORM}

# ==========================================================
# CONFIGURACIÓN DE BASE DE DATOS
# ==========================================================

# CONFIGURACIÓN DE BASE DE DATOS H2 (Modo Persistente)
# spring.datasource.url=jdbc:h2:file:./database/mi_aplicacion_db
# spring.datasource.driver-class-name=org.h2.Driver
# spring.datasource.username=sa
# spring.datasource.password=password


# CONFIGURACIÓN DE BASE DE DATOS H2 (Modo En Memoria)
# spring.datasource.url=jdbc:h2:mem:supermarketdb;MODE=MySQL;DB_CLOSE_DELAY=1
spring.datasource.url=${DB_URL}
spring.datasource.driver-class-name=${DB_DRIVER}
spring.datasource.username=${DB_USER_NAME}
spring.datasource.password=${DB_PASSWORD}

# H2 Console (Opcional, pero muy útil para inspeccionar la DB)
spring.h2.console.enabled=${SPRING_H2_CONSOLE_ENABLED}
spring.h2.console.path=/h2-console


# =========================================================
# CONFIGURACIÓN DE HIKARI (POOL DE CONEXIONES)
# =========================================================

# Tamaño máximo del pool (incluyendo conexiones en uso e inactivas)
spring.datasource.hikari.maximum-pool-size=10
# Tamaño mínimo de conexiones inactivas (siempre mantendrán al menos este número)
spring.datasource.hikari.minimum-idle=5
# Tiempo máximo que espera un cliente para obtener una conexión (en ms)
spring.datasource.hikari.connection-timeout=30000
# Tiempo máximo de vida de una conexión en el pool (en ms)
spring.datasource.hikari.max-lifetime=1800000

# Configuración para el pool (Opcional, pero define HikariCP explícitamente)
spring.datasource.type=com.zaxxer.hikari.HikariDataSource

# Propiedades comunes de HikariCP
# Nombre del pool para logging
spring.datasource.hikari.pool-name=SuperMarketPool


# ==========================================================
# CONFIGURACIÓN DE LIQUIBASE
# ==========================================================

# Habilitar Liquibase (es true por defecto si la dependencia está presente)
spring.liquibase.enabled=true

# Ruta al archivo master changelog (la carpeta 'db/changelog/' es la convención)
spring.liquibase.change-log=classpath:db/changelog/00-db.changelog-master.xml

# ==========================================================
# CONFIGURACIÓN DE LOGS
# ==========================================================
logging.config=classpath:logback.xml


# ==========================================================
# CONFIGURACIÓN DE HEALTHCHECK
# ==========================================================

# Exponer el health endpoint
management.endpoints.web.exposure.include=health

# Mostrar detalles del estado sin autenticación (necesario para la mayoría de los healthchecks)
management.endpoint.health.show-details=always

# Configurar el path del Actuator (opcional, por si quieres otro path)
management.endpoints.web.base-path=/




